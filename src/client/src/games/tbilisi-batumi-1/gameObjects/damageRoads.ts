import { colliderCategories } from "../helper/colliderCategories";
import { GamePlay } from "../scenes/gamePlay";

const roadPath = [
  { x: 6579, y: 1331 },
  { x: 6580.521484375, y: 1261.0166015625 },
  { x: 6581.92578125, y: 1191.0306396484375 },
  { x: 6583.2216796875, y: 1121.042724609375 },
  { x: 6584.41650390625, y: 1051.0528564453125 },
  { x: 6585.51611328125, y: 981.0615844726562 },
  { x: 6586.5263671875, y: 911.06884765625 },
  { x: 6587.45166015625, y: 841.074951171875 },
  { x: 6588.29443359375, y: 771.080078125 },
  { x: 6589.05029296875, y: 701.0841674804688 },
  { x: 6589.72509765625, y: 631.08740234375 },
  { x: 6590.30810546875, y: 561.0899047851562 },
  { x: 6590.83642578125, y: 491.0918884277344 },
  { x: 6591.25244140625, y: 421.0931701660156 },
  { x: 6591.5986328125, y: 351.0941162109375 },
  { x: 6591.85693359375, y: 281.0946350097656 },
  { x: 6591.97509765625, y: 211.0947265625 },
  { x: 6591.9462890625, y: 141.09469604492188 },
  { x: 6591.69580078125, y: 71.09523010253906 },
  { x: 6590.955078125, y: 1.0997154712677002 },
  { x: 6589, y: -21 },
  { x: 6625.25, y: -20.0440731048584 },
  { x: 6695.2255859375, y: -18.19877815246582 },
  { x: 6765.201171875, y: -16.35348129272461 },
  { x: 6835.1767578125, y: -14.508186340332031 },
  { x: 6905.15283203125, y: -12.682596206665039 },
  { x: 6975.1298828125, y: -10.87480640411377 },
  { x: 7045.1064453125, y: -9.0670166015625 },
  { x: 7115.0830078125, y: -7.259227275848389 },
  { x: 7185.060546875, y: -5.485444068908691 },
  { x: 7255.03857421875, y: -3.7348127365112305 },
  { x: 7325.0166015625, y: -1.9841814041137695 },
  { x: 7394.9951171875, y: -0.2335505485534668 },
  { x: 7464.97314453125, y: 1.517080307006836 },
  { x: 7534.951171875, y: 3.2677114009857178 },
  { x: 7604.92919921875, y: 5.0183424949646 },
  { x: 7674.9072265625, y: 6.768973350524902 },
  { x: 7744.88720703125, y: 8.447708129882812 },
  { x: 7814.8671875, y: 10.120116233825684 },
  { x: 7884.84716796875, y: 11.792524337768555 },
  { x: 7954.8271484375, y: 13.46493148803711 },
  { x: 8024.80712890625, y: 15.13733959197998 },
  { x: 8094.787109375, y: 16.80974769592285 },
  { x: 8164.76708984375, y: 18.482154846191406 },
  { x: 8234.748046875, y: 20.115432739257812 },
  { x: 8304.73046875, y: 21.70737075805664 },
  { x: 8374.7119140625, y: 23.29930877685547 },
  { x: 8444.693359375, y: 24.891244888305664 },
  { x: 8514.67578125, y: 26.483182907104492 },
  { x: 8584.6572265625, y: 28.07512092590332 },
  { x: 8654.6396484375, y: 29.66705894470215 },
  { x: 8724.6220703125, y: 31.234752655029297 },
  { x: 8794.60546875, y: 32.743873596191406 },
  { x: 8864.5888671875, y: 34.25299835205078 },
  { x: 8934.5732421875, y: 35.762123107910156 },
  { x: 9004.556640625, y: 37.271244049072266 },
  { x: 9074.541015625, y: 38.78036880493164 },
  { x: 9144.5244140625, y: 40.28948974609375 },
  { x: 9214.5087890625, y: 41.770103454589844 },
  { x: 9284.494140625, y: 43.193965911865234 },
  { x: 9354.4794921875, y: 44.61782455444336 },
  { x: 9424.46484375, y: 46.041683197021484 },
  { x: 9494.4501953125, y: 47.465545654296875 },
  { x: 9564.4365234375, y: 48.889404296875 },
  { x: 9634.421875, y: 50.313262939453125 },
  { x: 9704.408203125, y: 51.683807373046875 },
  { x: 9774.3955078125, y: 53.01986312866211 },
  { x: 9844.3828125, y: 54.355918884277344 },
  { x: 9914.3701171875, y: 55.69197463989258 },
  { x: 9984.357421875, y: 57.02803039550781 },
  { x: 10054.3447265625, y: 58.36408615112305 },
  { x: 10124.33203125, y: 59.6928825378418 },
  { x: 10194.3203125, y: 60.961238861083984 },
  { x: 10264.30859375, y: 62.22959518432617 },
  { x: 10334.2978515625, y: 63.49795150756836 },
  { x: 10404.287109375, y: 64.72307586669922 },
  { x: 10474.2763671875, y: 65.94550323486328 },
  { x: 10544.265625, y: 67.16793060302734 },
  { x: 10614.255859375, y: 68.3321533203125 },
  { x: 10684.24609375, y: 69.48451232910156 },
  { x: 10754.236328125, y: 70.6368637084961 },
  { x: 10824.2275390625, y: 71.78922271728516 },
  { x: 10894.2177734375, y: 72.94157409667969 },
  { x: 10964.2080078125, y: 74.09393310546875 },
  { x: 11034.19921875, y: 75.17195892333984 },
  { x: 11104.19140625, y: 76.22818756103516 },
  { x: 11174.18359375, y: 77.284423828125 },
  { x: 11244.17578125, y: 78.34065246582031 },
  { x: 11314.16796875, y: 79.39688110351562 },
  { x: 11384.16015625, y: 80.45311737060547 },
  { x: 11454.15234375, y: 81.44024658203125 },
  { x: 11524.1455078125, y: 82.42227172851562 },
  { x: 11594.138671875, y: 83.3997802734375 },
  { x: 11664.1328125, y: 84.3314437866211 },
  { x: 11734.1259765625, y: 85.26311492919922 },
  { x: 11804.1201171875, y: 86.17168426513672 },
  { x: 11874.115234375, y: 87.02645874023438 },
  { x: 11944.1103515625, y: 87.88123321533203 },
  { x: 12014.1044921875, y: 88.73600769042969 },
  { x: 12084.099609375, y: 89.59078216552734 },
  { x: 12154.0947265625, y: 90.445556640625 },
  { x: 12224.0908203125, y: 91.20772552490234 },
  { x: 12294.0869140625, y: 91.95689392089844 },
  { x: 12364.0830078125, y: 92.7060546875 },
  { x: 12434.0791015625, y: 93.4552230834961 },
  { x: 12504.07421875, y: 94.20439147949219 },
  { x: 12574.0712890625, y: 94.88192749023438 },
  { x: 12644.068359375, y: 95.52204132080078 },
  { x: 12714.0654296875, y: 96.16215515136719 },
  { x: 12784.0625, y: 96.80226135253906 },
  { x: 12854.0595703125, y: 97.44237518310547 },
  { x: 12924.0576171875, y: 98.01081848144531 },
  { x: 12994.0546875, y: 98.53826904296875 },
  { x: 13064.052734375, y: 99.06571960449219 },
  { x: 13134.05078125, y: 99.59317016601562 },
  { x: 13204.048828125, y: 100.12062072753906 },
  { x: 13274.046875, y: 100.57740783691406 },
  { x: 13344.0458984375, y: 101.0177230834961 },
  { x: 13414.044921875, y: 101.43020629882812 },
  { x: 13484.0439453125, y: 101.81132507324219 },
  { x: 13554.04296875, y: 102.1817855834961 },
  { x: 13624.0419921875, y: 102.5027084350586 },
  { x: 13694.041015625, y: 102.82363891601562 },
  { x: 13764.041015625, y: 103.08760070800781 },
  { x: 13834.0400390625, y: 103.3473129272461 },
  { x: 13904.0400390625, y: 103.53865814208984 },
  { x: 13974.0400390625, y: 103.70478820800781 },
  { x: 14044.0390625, y: 103.87091064453125 },
  { x: 14114.0390625, y: 104.03704071044922 },
  { x: 14184.0390625, y: 104.1580810546875 },
  { x: 14254.0390625, y: 104.22779083251953 },
  { x: 14324.0390625, y: 104.27103424072266 },
  { x: 14394.0390625, y: 104.27520751953125 },
  { x: 14464.0390625, y: 104.2537612915039 },
  { x: 14534.0390625, y: 104.19123840332031 },
  { x: 14604.0390625, y: 104.10100555419922 },
  { x: 14674.0390625, y: 103.97063446044922 },
  { x: 14744.0380859375, y: 103.79084014892578 },
  { x: 14814.0380859375, y: 103.55667877197266 },
  { x: 14884.0380859375, y: 103.322509765625 },
  { x: 14954.037109375, y: 103.08834075927734 },
  { x: 15024.0361328125, y: 102.77497100830078 },
  { x: 15094.03515625, y: 102.43373107910156 },
  { x: 15164.0341796875, y: 102.0244369506836 },
  { x: 15234.033203125, y: 101.59770965576172 },
  { x: 15304.03125, y: 101.10952758789062 },
  { x: 15374.029296875, y: 100.5875244140625 },
  { x: 15444.02734375, y: 100.02387237548828 },
  { x: 15514.0234375, y: 99.37178039550781 },
  { x: 15584.0205078125, y: 98.692626953125 },
  { x: 15654.017578125, y: 98.01347351074219 },
  { x: 15724.013671875, y: 97.27227783203125 },
  { x: 15794.0087890625, y: 96.47383880615234 },
  { x: 15864.0029296875, y: 95.59783935546875 },
  { x: 15933.9970703125, y: 94.68270111083984 },
  { x: 16003.990234375, y: 93.72044372558594 },
  { x: 16073.982421875, y: 92.67888641357422 },
  { x: 16143.974609375, y: 91.59027862548828 },
  { x: 16213.96484375, y: 90.45124816894531 },
  { x: 16283.9541015625, y: 89.23169708251953 },
  { x: 16353.9423828125, y: 87.94976043701172 },
  { x: 16423.9296875, y: 86.60859680175781 },
  { x: 16493.9140625, y: 85.20442199707031 },
  { x: 16563.8984375, y: 83.7128677368164 },
  { x: 16633.880859375, y: 82.14762115478516 },
  { x: 16703.861328125, y: 80.50957489013672 },
  { x: 16773.841796875, y: 78.79446411132812 },
  { x: 16843.818359375, y: 76.99787139892578 },
  { x: 16913.79296875, y: 75.11524200439453 },
  { x: 16983.763671875, y: 73.13529968261719 },
  { x: 17053.734375, y: 71.05876922607422 },
  { x: 17123.701171875, y: 68.88469696044922 },
  { x: 17193.6640625, y: 66.60818481445312 },
  { x: 17263.623046875, y: 64.22389221191406 },
  { x: 17333.578125, y: 61.72669219970703 },
  { x: 17403.529296875, y: 59.1109619140625 },
  { x: 17473.474609375, y: 56.36207580566406 },
  { x: 17543.416015625, y: 53.47602844238281 },
  { x: 17613.349609375, y: 50.450401306152344 },
  { x: 17683.279296875, y: 47.279205322265625 },
  { x: 17753.19921875, y: 43.950767517089844 },
  { x: 17823.111328125, y: 40.43497848510742 },
  { x: 17893.013671875, y: 36.75103759765625 },
  { x: 17962.904296875, y: 32.85441589355469 },
  { x: 18032.78515625, y: 28.7579402923584 },
  { x: 18102.650390625, y: 24.421646118164062 },
  { x: 18172.5, y: 19.833938598632812 },
  { x: 18242.33203125, y: 14.976969718933105 },
  { x: 18312.142578125, y: 9.827164649963379 },
  { x: 18381.927734375, y: 4.339710712432861 },
  { x: 18451.685546875, y: -1.460580587387085 },
  { x: 18521.41796875, y: -7.581915855407715 },
  { x: 18591.1328125, y: -13.899564743041992 },
  { x: 18660.8671875, y: -19.985326766967773 },
  { x: 18730.765625, y: -23.244583129882812 },
  { x: 18794, y: -7 },
  { x: 18797.779296875, y: -7.031072616577148 },
  { x: 18867.77734375, y: -7.606646537780762 },
  { x: 18937.7734375, y: -8.182221412658691 },
  { x: 19007.771484375, y: -8.757795333862305 },
  { x: 19077.76953125, y: -9.333370208740234 },
  { x: 19147.767578125, y: -9.908944129943848 },
  { x: 19217.765625, y: -10.484518051147461 },
  { x: 19287.76171875, y: -11.06009292602539 },
  { x: 19357.759765625, y: -11.635666847229004 },
  { x: 19427.7578125, y: -12.211240768432617 },
  { x: 19497.755859375, y: -12.786815643310547 },
  { x: 19567.751953125, y: -13.36238956451416 },
  { x: 19637.75, y: -13.937963485717773 },
  { x: 19707.748046875, y: -14.513538360595703 },
  { x: 19777.74609375, y: -15.089112281799316 },
  { x: 19847.744140625, y: -15.66468620300293 },
  { x: 19917.7421875, y: -16.237384796142578 },
  { x: 19987.73828125, y: -16.779190063476562 },
  { x: 20057.736328125, y: -17.32099723815918 },
  { x: 20127.734375, y: -17.862802505493164 },
  { x: 20197.732421875, y: -18.40460777282715 },
  { x: 20267.73046875, y: -18.946413040161133 },
  { x: 20337.728515625, y: -19.48822021484375 },
  { x: 20407.7265625, y: -20.030025482177734 },
  { x: 20477.724609375, y: -20.57183074951172 },
  { x: 20547.72265625, y: -21.113636016845703 },
  { x: 20617.720703125, y: -21.655441284179688 },
  { x: 20687.71875, y: -22.197248458862305 },
  { x: 20757.716796875, y: -22.73905372619629 },
  { x: 20827.71484375, y: -23.280858993530273 },
  { x: 20897.7109375, y: -23.822664260864258 },
  { x: 20967.708984375, y: -24.360435485839844 },
  { x: 21037.70703125, y: -24.866601943969727 },
  { x: 21107.705078125, y: -25.37276840209961 },
  { x: 21177.703125, y: -25.878934860229492 },
  { x: 21247.701171875, y: -26.385101318359375 },
  { x: 21317.69921875, y: -26.891267776489258 },
  { x: 21387.697265625, y: -27.39743423461914 },
  { x: 21457.6953125, y: -27.903600692749023 },
  { x: 21527.6953125, y: -28.409767150878906 },
  { x: 21597.693359375, y: -28.91593360900879 },
  { x: 21667.69140625, y: -29.422100067138672 },
  { x: 21737.689453125, y: -29.928266525268555 },
  { x: 21807.6875, y: -30.434432983398438 },
  { x: 21877.685546875, y: -30.94059944152832 },
  { x: 21947.68359375, y: -31.442808151245117 },
  { x: 22017.68359375, y: -31.911314010620117 },
  { x: 22087.681640625, y: -32.379817962646484 },
  { x: 22157.6796875, y: -32.848323822021484 },
  { x: 22227.677734375, y: -33.316829681396484 },
  { x: 22297.67578125, y: -33.785335540771484 },
  { x: 22367.67578125, y: -34.25383758544922 },
  { x: 22437.673828125, y: -34.72234344482422 },
  { x: 22507.671875, y: -35.19084930419922 },
  { x: 22577.669921875, y: -35.65935516357422 },
  { x: 22647.66796875, y: -36.12786102294922 },
  { x: 22717.66796875, y: -36.59636306762695 },
  { x: 22787.666015625, y: -37.06486892700195 },
  { x: 22857.662109375, y: -37.53158950805664 },
  { x: 22927.662109375, y: -37.93992614746094 },
  { x: 22997.66015625, y: -38.348262786865234 },
  { x: 23067.658203125, y: -38.75659942626953 },
  { x: 23137.658203125, y: -39.16493606567383 },
  { x: 23207.65625, y: -39.573272705078125 },
  { x: 23277.65625, y: -39.98160934448242 },
  { x: 23347.654296875, y: -40.38994598388672 },
  { x: 23417.65234375, y: -40.798282623291016 },
  { x: 23487.65234375, y: -41.20661926269531 },
  { x: 23557.650390625, y: -41.61495590209961 },
  { x: 23627.650390625, y: -42.023292541503906 },
  { x: 23697.6484375, y: -42.4316291809082 },
  { x: 23767.646484375, y: -42.8399658203125 },
  { x: 23837.646484375, y: -43.2483024597168 },
  { x: 23907.64453125, y: -43.656639099121094 },
  { x: 23977.64453125, y: -44.06497573852539 },
  { x: 24047.642578125, y: -44.47331237792969 },
  { x: 24117.640625, y: -44.88165283203125 },
  { x: 24187.640625, y: -45.28998947143555 },
  { x: 24257.638671875, y: -45.698326110839844 },
  { x: 24327.63671875, y: -46.10666275024414 },
  { x: 24397.63671875, y: -46.51499938964844 },
  { x: 24467.634765625, y: -46.923336029052734 },
  { x: 24537.634765625, y: -47.28285217285156 },
  { x: 24607.634765625, y: -47.60169982910156 },
  { x: 24677.634765625, y: -47.92055130004883 },
  { x: 24747.6328125, y: -48.23939895629883 },
  { x: 24817.6328125, y: -48.558250427246094 },
  { x: 24887.630859375, y: -48.877098083496094 },
  { x: 24957.630859375, y: -49.19594955444336 },
  { x: 25027.630859375, y: -49.51479721069336 },
  { x: 25097.62890625, y: -49.833648681640625 },
  { x: 25167.62890625, y: -50.152496337890625 },
  { x: 25237.62890625, y: -50.47134780883789 },
  { x: 25307.626953125, y: -50.79019546508789 },
  { x: 25377.626953125, y: -51.10904312133789 },
  { x: 25447.625, y: -51.427894592285156 },
  { x: 25517.625, y: -51.746742248535156 },
  { x: 25587.625, y: -52.06559371948242 },
  { x: 25657.623046875, y: -52.38444137573242 },
  { x: 25727.623046875, y: -52.70329284667969 },
  { x: 25797.623046875, y: -53.02214050292969 },
  { x: 25867.62109375, y: -53.34099197387695 },
  { x: 25937.62109375, y: -53.62947463989258 },
  { x: 26007.62109375, y: -53.87302780151367 },
  { x: 26077.619140625, y: -54.11658477783203 },
  { x: 26147.619140625, y: -54.360137939453125 },
  { x: 26217.619140625, y: -54.60369110107422 },
  { x: 26287.619140625, y: -54.84724807739258 },
  { x: 26357.619140625, y: -55.09080123901367 },
  { x: 26427.6171875, y: -55.33435821533203 },
  { x: 26497.6171875, y: -55.577911376953125 },
  { x: 26567.6171875, y: -55.79429244995117 },
  { x: 26637.6171875, y: -55.984004974365234 },
  { x: 26707.6171875, y: -56.1737174987793 },
  { x: 26777.6171875, y: -56.363426208496094 },
  { x: 26847.615234375, y: -56.553138732910156 },
  { x: 26917.615234375, y: -56.74285125732422 },
  { x: 26987.615234375, y: -56.93256378173828 },
  { x: 27057.615234375, y: -57.12227249145508 },
  { x: 27127.61328125, y: -57.292198181152344 },
  { x: 27197.61328125, y: -57.424522399902344 },
  { x: 27267.61328125, y: -57.556846618652344 },
  { x: 27337.61328125, y: -57.689170837402344 },
  { x: 27407.61328125, y: -57.821495056152344 },
  { x: 27477.61328125, y: -57.953819274902344 },
  { x: 27547.61328125, y: -58.08613967895508 },
  { x: 27617.61328125, y: -58.21846389770508 },
  { x: 27687.615234375, y: -58.29622268676758 },
  { x: 27757.615234375, y: -58.3673210144043 },
  { x: 27827.615234375, y: -58.438419342041016 },
  { x: 27897.615234375, y: -58.50951385498047 },
  { x: 27967.615234375, y: -58.58061218261719 },
  { x: 28037.615234375, y: -58.651710510253906 },
  { x: 28107.61328125, y: -58.71548843383789 },
  { x: 28177.61328125, y: -58.72122573852539 },
  { x: 28247.61328125, y: -58.72696304321289 },
  { x: 28317.61328125, y: -58.73270034790039 },
  { x: 28387.61328125, y: -58.738441467285156 },
  { x: 28457.61328125, y: -58.744178771972656 },
  { x: 28527.61328125, y: -58.749916076660156 },
  { x: 28597.615234375, y: -58.687618255615234 },
  { x: 28667.615234375, y: -58.623565673828125 },
  { x: 28737.615234375, y: -58.55950927734375 },
  { x: 28807.615234375, y: -58.495452880859375 },
  { x: 28877.615234375, y: -58.431396484375 },
  { x: 28947.61328125, y: -58.33401870727539 },
  { x: 29017.61328125, y: -58.19546127319336 },
  { x: 29087.61328125, y: -58.05690383911133 },
  { x: 29157.61328125, y: -57.9183464050293 },
  { x: 29227.61328125, y: -57.779788970947266 },
  { x: 29297.61328125, y: -57.60173034667969 },
  { x: 29367.61328125, y: -57.383750915527344 },
  { x: 29437.611328125, y: -57.165767669677734 },
  { x: 29507.611328125, y: -56.947784423828125 },
  { x: 29577.611328125, y: -56.72197341918945 },
  { x: 29647.611328125, y: -56.4195442199707 },
  { x: 29717.611328125, y: -56.11711120605469 },
  { x: 29787.609375, y: -55.81468200683594 },
  { x: 29857.607421875, y: -55.494300842285156 },
  { x: 29927.60546875, y: -55.10253143310547 },
  { x: 29997.60546875, y: -54.71076583862305 },
  { x: 30067.603515625, y: -54.31899642944336 },
  { x: 30137.603515625, y: -53.853172302246094 },
  { x: 30207.6015625, y: -53.36770248413086 },
  { x: 30277.599609375, y: -52.882232666015625 },
  { x: 30347.59765625, y: -52.31660842895508 },
  { x: 30417.595703125, y: -51.73434066772461 },
  { x: 30487.59375, y: -51.12458038330078 },
  { x: 30557.58984375, y: -50.4449462890625 },
  { x: 30627.587890625, y: -49.754085540771484 },
  { x: 30697.583984375, y: -48.9813346862793 },
  { x: 30767.578125, y: -48.176944732666016 },
  { x: 30837.572265625, y: -47.30234909057617 },
  { x: 30907.56640625, y: -46.42774963378906 },
  { x: 30977.560546875, y: -45.54471206665039 },
  { x: 31047.556640625, y: -44.75138473510742 },
  { x: 31117.552734375, y: -44.829715728759766 },
  { x: 31154, y: -51 },
  { x: 31166.220703125, y: -21.142850875854492 },
  { x: 31179.083984375, y: 47.63291549682617 },
  { x: 31187.869140625, y: 117.07525634765625 },
  { x: 31194.884765625, y: 186.72169494628906 },
  { x: 31200.748046875, y: 256.4745788574219 },
  { x: 31205.75, y: 326.2957458496094 },
  { x: 31210.056640625, y: 396.16339111328125 },
  { x: 31213.740234375, y: 466.0655822753906 },
  { x: 31216.82421875, y: 535.9982299804688 },
  { x: 31219.333984375, y: 605.9525756835938 },
  { x: 31221.21484375, y: 675.9266967773438 },
  { x: 31222.443359375, y: 745.9146728515625 },
  { x: 31222.875, y: 815.9124755859375 },
  { x: 31222.33984375, y: 885.91064453125 },
  { x: 31220.494140625, y: 955.8847045898438 },
  { x: 31216.56640625, y: 1025.768798828125 },
  { x: 31208.14453125, y: 1095.22705078125 },
  { x: 31184, y: 1135 },
];

export class DamageRoads {
  collider!: Phaser.Physics.Matter.Sprite;

  constructor(public scene: GamePlay, public x: number, public y: number) {
    this.init();
  }

  init() {
    this.addRightDamageRoad();
  }

  addRightDamageRoad() {
    this.collider = this.scene.matter.add
      .sprite(this.x, this.y, "white", undefined, {
        gravityScale: new Phaser.Math.Vector2(0, 0.013),
        isSensor: true,
        label: "damageRoad",
      })
      .setTint(0x080700)
      .setDisplaySize(55700, 2000);

    this.scene.matter.world.on("collisionstart", (event: any) => {
      event.pairs.forEach((pair: any) => {
        if (
          pair.bodyA.gameObject === this.scene.car.carBody &&
          pair.bodyB.label === "damageRoad"
        ) {
          this.scene.car.playExplosionAnimation(true);
        }
      });
    });
  }
}
